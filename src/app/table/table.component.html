<main id="table-container">
    <div id="table-header">
        <div id="table-properties">
            <div id="table-title"></div>
            <div id="table-options"></div>
        </div>

    </div>
    <div>
        <p-table
            #dt
            id="table"
            [value]="tickts"
            [tableStyle]="{ 'min-width': '50rem', 'margin-bottom': '100px' }"
            [globalFilterFields]="['المستخدم']">
            <ng-template pTemplate="caption">
                <div style="display: flex; justify-content: space-between;">
                    <div id="table-buttons">
                        <button class="btn btn-margin book-ticket-btn">
                            حجز تذكرة جديدة
                        </button>
                        <h3 id="status">{{checkedStatus}}</h3>
                        <p-inputswitch [(ngModel)]="checked"
                            (onChange)="changeStatus()" />
                    </div>
                    <div id="search-container">
                        <svg class="btn btn-margin" width="36" height="36"
                            viewBox="0 0 36 36" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M19.0332 14.98C19.1598 14.98 19.2865 14.9333 19.3865 14.8333L21.5132 12.7067L23.6399 14.8333C23.8332 15.0267 24.1532 15.0267 24.3465 14.8333C24.5398 14.64 24.5398 14.32 24.3465 14.1267L21.8665 11.6466C21.7732 11.5533 21.6465 11.5 21.5132 11.5C21.3798 11.5 21.2532 11.5533 21.1598 11.6466L18.6798 14.1267C18.4865 14.32 18.4865 14.64 18.6798 14.8333C18.7798 14.9333 18.9065 14.98 19.0332 14.98Z"
                                fill="#8B8B8B" />
                            <path
                                d="M21.5134 24.5C21.7867 24.5 22.0134 24.2733 22.0134 24V12C22.0134 11.7267 21.7867 11.5 21.5134 11.5C21.24 11.5 21.0134 11.7267 21.0134 12V24C21.0134 24.2733 21.24 24.5 21.5134 24.5Z"
                                fill="#8B8B8B" />
                            <path
                                d="M14.48 24.5C14.6133 24.5 14.74 24.4467 14.8333 24.3533L17.3133 21.8733C17.5066 21.68 17.5066 21.36 17.3133 21.1666C17.12 20.9733 16.8 20.9733 16.6066 21.1666L14.48 23.2933L12.3534 21.1666C12.16 20.9733 11.84 20.9733 11.6466 21.1666C11.4533 21.36 11.4533 21.68 11.6466 21.8733L14.1267 24.3533C14.22 24.4467 14.3533 24.5 14.48 24.5Z"
                                fill="#8B8B8B" />
                            <path
                                d="M14.4866 24.5C14.76 24.5 14.9866 24.2733 14.9866 24V12C14.9866 11.7267 14.76 11.5 14.4866 11.5C14.2133 11.5 13.9866 11.7267 13.9866 12V24C13.9866 24.2733 14.2066 24.5 14.4866 24.5Z"
                                fill="#8B8B8B" />
                        </svg>
                        <svg class="btn btn-margin" width="36" height="36"
                            viewBox="0 0 36 36" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24.6667 14.8333H20.6667C20.3934 14.8333 20.1667 14.6067 20.1667 14.3333C20.1667 14.06 20.3934 13.8333 20.6667 13.8333H24.6667C24.94 13.8333 25.1667 14.06 25.1667 14.3333C25.1667 14.6067 24.94 14.8333 24.6667 14.8333Z"
                                fill="#8B8B8B" />
                            <path
                                d="M14 14.8333H11.3333C11.06 14.8333 10.8333 14.6067 10.8333 14.3333C10.8333 14.06 11.06 13.8333 11.3333 13.8333H14C14.2733 13.8333 14.5 14.06 14.5 14.3333C14.5 14.6067 14.2733 14.8333 14 14.8333Z"
                                fill="#8B8B8B" />
                            <path
                                d="M16.6666 17.1667C15.1066 17.1667 13.8333 15.8933 13.8333 14.3333C13.8333 12.7733 15.1066 11.5 16.6666 11.5C18.2266 11.5 19.5 12.7733 19.5 14.3333C19.5 15.8933 18.2266 17.1667 16.6666 17.1667ZM16.6666 12.5C15.6533 12.5 14.8333 13.32 14.8333 14.3333C14.8333 15.3467 15.6533 16.1667 16.6666 16.1667C17.68 16.1667 18.5 15.3467 18.5 14.3333C18.5 13.32 17.68 12.5 16.6666 12.5Z"
                                fill="#8B8B8B" />
                            <path
                                d="M24.6667 22.1667H22C21.7267 22.1667 21.5 21.94 21.5 21.6667C21.5 21.3933 21.7267 21.1667 22 21.1667H24.6667C24.94 21.1667 25.1667 21.3933 25.1667 21.6667C25.1667 21.94 24.94 22.1667 24.6667 22.1667Z"
                                fill="#8B8B8B" />
                            <path
                                d="M15.3333 22.1667H11.3333C11.06 22.1667 10.8333 21.94 10.8333 21.6667C10.8333 21.3933 11.06 21.1667 11.3333 21.1667H15.3333C15.6066 21.1667 15.8333 21.3933 15.8333 21.6667C15.8333 21.94 15.6066 22.1667 15.3333 22.1667Z"
                                fill="#8B8B8B" />
                            <path
                                d="M19.3333 24.5C17.7733 24.5 16.5 23.2267 16.5 21.6667C16.5 20.1067 17.7733 18.8333 19.3333 18.8333C20.8933 18.8333 22.1667 20.1067 22.1667 21.6667C22.1667 23.2267 20.8933 24.5 19.3333 24.5ZM19.3333 19.8333C18.32 19.8333 17.5 20.6533 17.5 21.6667C17.5 22.68 18.32 23.5 19.3333 23.5C20.3467 23.5 21.1667 22.68 21.1667 21.6667C21.1667 20.6533 20.3467 19.8333 19.3333 19.8333Z"
                                fill="#8B8B8B" />
                        </svg>
                        <input
                            pInputText
                            type="text"
                            (input)="filterGlobal($event)"
                            placeholder="بحث عن"
                            id="search-box" />
                        <svg class="search-icon" width="17" height="16"
                            viewBox="0 0 17 16" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M7.91665 14.5C4.14998 14.5 1.08331 11.4333 1.08331 7.66668C1.08331 3.90001 4.14998 0.833344 7.91665 0.833344C11.6833 0.833344 14.75 3.90001 14.75 7.66668C14.75 11.4333 11.6833 14.5 7.91665 14.5ZM7.91665 1.83334C4.69665 1.83334 2.08331 4.45334 2.08331 7.66668C2.08331 10.88 4.69665 13.5 7.91665 13.5C11.1366 13.5 13.75 10.88 13.75 7.66668C13.75 4.45334 11.1366 1.83334 7.91665 1.83334Z"
                                fill="#292D32" />
                            <path
                                d="M14.9167 15.1667C14.79 15.1667 14.6634 15.12 14.5634 15.02L13.23 13.6867C13.0367 13.4934 13.0367 13.1734 13.23 12.98C13.4234 12.7867 13.7434 12.7867 13.9367 12.98L15.27 14.3134C15.4634 14.5067 15.4634 14.8267 15.27 15.02C15.17 15.12 15.0434 15.1667 14.9167 15.1667Z"
                                fill="#292D32" />
                        </svg>
                        <h2 id="table-title">مبيعات التذاكر</h2>
                    </div>
                </div>
            </ng-template>

            <ng-template pTemplate="header">
                <tr [ngClass]="{ 'tableHeaders' : true}">
                    <th>التذكرة</th>
                    <th>عدد مرات الشراء</th>
                    <th>عدد الاشخاص</th>
                    <th style="width:20px">السينمات</th>
                    <th pSortableColumn="price">
                        قيمة التذكرة</th>
                    <th>رقم التذكرة</th>
                    <th>المستخدم</th>
                    <th>#</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-tickt>
                <tr [ngClass]="{ 'tableBody' : true}">
                    <td>
                        <span
                            type="button"
                            class="btn btn-margin"
                            fileSaver
                            [method]="'GET'"
                            [fileName]="filename(tickt)"
                            [url]="'assets/downloadable-ticket.png'">
                            <svg width="18" height="18" viewBox="0 0 18 18"
                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11.0666 17.3332H6.26663C2.26663 17.3332 0.666626 15.7332 0.666626 11.7332V6.93319C0.666626 2.93319 2.26663 1.33319 6.26663 1.33319H11.0666C15.0666 1.33319 16.6666 2.93319 16.6666 6.93319V11.7332C16.6666 15.7332 15.0666 17.3332 11.0666 17.3332Z"
                                    stroke="#8A74F9" stroke-width="1.25"
                                    stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path
                                    d="M10.8333 9.25799L8.33325 11.758L5.83325 9.25799M8.33325 11.758V5.09132M13.3333 13.4247C10.0916 14.508 6.57492 14.508 3.33325 13.4247"
                                    stroke="#8A74F9" stroke-width="1.25"
                                    stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </span>
                    </td>
                    <td class="text-col">{{ tickt.numberOfPurchases |
                        purchasesTimes }}</td>
                    <td class="eng-col">{{ tickt.numberOfPeople }}</td>
                    <td id="cinema" class="cinema-col text-col"
                        style="width:20px">{{ tickt.cinema }}</td>
                    <td class="eng-col" field="price">{{ tickt.price |
                        currency:'USD':'symbol-narrow':'1.0-0' }}</td>
                    <td class="text-col eng-col">{{ tickt.ticketId }}</td>
                    <td id="name-col" class="text-col">{{ tickt.name }}</td>
                    <td>{{ tickt.id }}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</main>